/**
 * angular-ui-router state derived menu, nav, navbar, tab and other navigation tools
 * @version v0.2.2-dev-2016-01-14
 * @link https://github.com/nitintutlani/angular-ui-router-menus
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b,c){"use strict";function d(a){var b=a.replace(/[.+^$()|{}]/g,function(a,b,c){return"\\"===c[b-1]?a:"\\"+a});return b=b.replace(/[?*]/g,function(a,b,c){return"\\"===c[b-1]?a:"?"===a?".":".*"}),b=b.replace(/\\([dDsSwWtrnvfbB0cxu])/g,"$1"),"^"+b+"$"}function e(a){var b=[];if(h(a)&&(a=a.split(" ")),i(a))for(var c=0;c<a.length;c++)b.push(d(a[c]));return b}function f(a,b){if(i(a))for(var c=0;c<a.length;c++)if(b.match(a[c]))return!0;return!1}var g=b.isDefined,h=(b.isFunction,b.isString),i=(b.isObject,b.isArray),j=b.forEach,k=(b.extend,b.copy,b.equals,b.noop,b.module("ui.router.menus",["ng","ui.router"]));k.directive("menus",["$menus",function(a){return{link:{restrict:"EA",scope:{menus:"=",type:"@",include:"@",tag:"@"},pre:function(b,c,d){var e={};g(d.type)&&(e.type=d.type),g(d.include)&&(e.include=d.include),g(d.tag)&&(e.tag=d.tag),b[d.menus]=a.get(e)}}}}]),k.service("$menus",["$state",function(a){function b(a){if(!a.menu)return null;var b;return"string"==typeof a.menu?b={name:a.menu,state:a}:(b=a.menu,b.state=a),b}var c;this.findMenu=function(a){for(var b=0;b<c.length;b++)if(a===c[b].state.name)return c[b];return null},this.parent=function(a){var b=this.findMenu(a);if(b){if(g(b.state.parent)&&b.state.parent)return this.findMenu(b.state.parent);var c=/^(.+)\.[^.]+$/.exec(b.state.name);return c?this.findMenu(c[1]):null}return null},this.findByParent=function(a){var b=this,d=c.filter(function(c){var d=b.parent(c.state.name);return!!d&&a===d.state.name});return d},this.getTree=function(a){var b,d=this;return b=a?this.findByParent(a.state.name):c.filter(function(a){return!d.parent(a.state.name)}),j(b,function(a){a.children=d.getTree(a),a.hasChild=g(a.children)&&i(a.children)?!!a.children.length:!1}),b},this.get=function(d){d=d||{},c=[];var h=a.get(),i=d.include||null;i&&(i=e(i),h=h.filter(function(a){return f(i,a.name)}));var k=d.tag||null;k&&(k=e(k)),j(h,function(a){var d=b(a);d&&(k?g(d.tag)&&f(k,d.tag)&&c.push(d):c.push(d))});var l=d.type||"list";return"tree"===l?this.getTree():c}}])}(window,window.angular);